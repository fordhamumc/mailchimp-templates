// 
//  Grid
//  ---------------------------------

@mixin column-width($width) {
  max-width: $width;
  overflow: visible;
  
  img {
    max-width: $width - $container-padding * 2;
    overflow: visible;
  }

  @include bp(sm-md) {
    max-width: percentage($width / $content-area) !important;
    
    img {
      max-width: 100% !important;
    }
  }
  @include bp(sm) {
		max-width: 100% !important;
		
    img {
  		@if $width <= ($content-area / 3) {
        max-width: $width !important;
      } @else {
        max-width: 100% !important;
      }
    }
  }
}


// Multiple column layouts
//---------------------

.one-column,
.two-column,
.three-column,
.sixty-forty-column,
.sidebar {
  padding-left: $outer-padding;
  padding-right: $outer-padding;
}

.one-column {
	img {
		width: 100%;
		max-width: 100%;
		height: auto;
        overflow: visible;
	}
}

.two-column,
.three-column,
.sixty-forty-column,
.sidebar {
	font-size: 0;
	text-align: center;
	
	.column,
	.column-2,
	.column-sixty,
	.column-forty {
		width: 100%;
		display: inline-block;
	}
	
	img {
		width: 100%;
		height: auto;
	}
}

.two-column,
.three-column,
.sixty-forty-column,
.sidebar {
	
	.column,
	.column-sixty,
	.column-forty {
		vertical-align: top;
	}
	
	.contents {
  		text-align: left;
	}
	
	.text {
		padding-top: 10px;
	}
}


// Two column layout
//---------------------

.two-column {	
  
	.column {
		@include column-width( $content-area / 2 );
	}
}


// Three column layout
//---------------------

.three-column {
	
	.column {
		@include column-width( $content-area / 3 );

		.contents {
			text-align: center;
		}
	}
	
	.column-2 {
		@include column-width( $content-area / 3 * 2 );

		.contents {
			text-align: left;
		}
	}
}


// Three column layout
//---------------------

.sixty-forty-column {

	.column-sixty {
		@include column-width( $content-area * .6 );
	}

	.column-forty {
		@include column-width( $content-area * .4 );
	}
}


// Sidebar layout 
//---------------------

.sidebar {
	
	.aside {
		@include column-width( $content-area / 5 );
	}
	
	.main {
		@include column-width( $content-area / 5 * 4 );
	}
}

.sidebar-container .inner {
  padding-top: 0;
}

.sidebar-container {
  padding-top: $container-gutter;
}


@include bp(md) {

  .one-column,
  .two-column,
  .three-column,
  .sixty-forty-column,
  .sidebar {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

	.sidebar .main {
  	max-width: 100% !important;

  	.contents {
    	text-align: center !important;
  	}

  	.inner {
    	padding-top: 0 !important;
  	}
	}
}
